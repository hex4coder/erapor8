import{_ as pa}from"./ConfirmDialog-CfQq6YDT.js";import{$ as re}from"./api-CmLymv6O.js";import{V as Pe}from"./VCard-DPBtMZW7.js";import{a6 as de,a7 as me,a8 as ve,b as a,a9 as Ne,aa as Te,ae as ba,Z as Ve,aI as ka,ba as _a,af as Me,aH as qe,aZ as ha,aV as Q,Y as B,bh as Ee,al as Ke,am as Oe,bd as ya,aP as Va,au as ce,aY as pe,b7 as xa,aM as ze,r as V,c as H,o as F,e as v,d as s,a1 as oe,$ as te,t as Y,v as L,ax as He,F as le,h as Ce,m as u,a3 as W,ag as Pa,ap as be,ah as Ta,b3 as Ca,w as ae,q as J,aB as Ge,bx as Ie,az as xe,ar as Sa,ci as wa,bY as Da,bX as Aa,bZ as Re,b_ as ja,f as ke,l as Qe,ad as Ia,z as Ra,b$ as $e,c0 as Ue,x as $a,bD as Ua,aJ as Ba,Q as La,br as Fa,G as Ye,cj as Na,bE as Ma,an as qa,bs as Ea,ck as Ka,cl as Oa,bt as za,aQ as Ha,cm as Ga}from"./main-BmaFLECC.js";import{V as Ze,m as Qa}from"./VImg-60m1FPF8.js";import{V as Se}from"./VSpacer-Bydwz-hc.js";import{V as We}from"./VTable-BeAEwmxm.js";import{V as Je}from"./VDialog-DE__mQip.js";import{b as Ya,a as Za}from"./VLabel-Dun9QuG8.js";import{u as Wa,b as Ja,c as Xa,V as et,_ as Xe}from"./AppSelect-Dodmi1Ge.js";import{V as Be,m as at}from"./VTextField-DU5I-02O.js";import{u as tt,m as lt,V as nt}from"./VDataTableServer-KjfSC0TB.js";import{f as ea}from"./forwardRefs-DWGaNmQL.js";import{u as ot,V as aa,a as _e,b as Le}from"./VList--zc2cV7Y.js";import{V as ta}from"./VMenu-uYX0kftc.js";import{V as we}from"./VAvatar-DzKqRnSB.js";import{V as la}from"./VChip-DASL0bCx.js";import{_ as na}from"./AppTextField-D2LXjmv0.js";import{_ as st}from"./TablePagination-BNpwymqA.js";import{u as it}from"./useApi-aDZ_p2JA.js";import{c as ut}from"./createUrl-CavU1t8i.js";import{a as ye,d as rt,$ as ct}from"./mixins-C1PpnV79.js";import{V as dt}from"./VCardText-D2uK2Y8d.js";import{V as mt}from"./VDivider-BN4YXaja.js";import{u as vt,V as Fe,m as ft}from"./VOverlay-DrobohEp.js";const gt=me({text:String,...Te(),...Ne()},"VToolbarTitle"),De=de()({name:"VToolbarTitle",props:gt(),setup(e,k){let{slots:t}=k;return ve(()=>{const n=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var f;return[n&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(f=t.default)==null?void 0:f.call(t)])]}})}),{}}}),pt=[null,"prominent","default","comfortable","compact"],bt=me({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>pt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Va(),...Te(),...ya(),...Oe(),...Ne({tag:"header"}),...Ke()},"VToolbar"),oa=de()({name:"VToolbar",props:bt(),setup(e,k){var i;let{slots:t}=k;const{backgroundColorClasses:n,backgroundColorStyles:f}=ba(Ve(e,"color")),{borderClasses:h}=ka(e),{elevationClasses:b}=_a(e),{roundedClasses:w}=Me(e),{themeClasses:P}=qe(e),{rtlClasses:y}=ha(),T=Q(!!(e.extended||(i=t.extension)!=null&&i.call(t))),d=B(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),r=B(()=>T.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ee({VBtn:{variant:"text"}}),ve(()=>{var D;const I=!!(e.title||t.title),c=!!(t.image||e.image),K=(D=t.extension)==null?void 0:D.call(t);return T.value=!!(e.extended||K),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},n.value,h.value,b.value,w.value,P.value,y.value,e.class],style:[f.value,e.style]},{default:()=>[c&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(ce,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(Ze,{key:"image-img",cover:!0,src:e.image},null)]),a(ce,{defaults:{VTabs:{height:pe(d.value)}}},{default:()=>{var N,M,x;return[a("div",{class:"v-toolbar__content",style:{height:pe(d.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(N=t.prepend)==null?void 0:N.call(t)]),I&&a(De,{key:"title",text:e.title},{text:t.title}),(M=t.default)==null?void 0:M.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(x=t.append)==null?void 0:x.call(t)])])]}}),a(ce,{defaults:{VTabs:{height:pe(r.value)}}},{default:()=>[a(xa,null,{default:()=>[T.value&&a("div",{class:"v-toolbar__extension",style:{height:pe(r.value)}},[K])]})]})]})}),{contentHeight:d,extensionHeight:r}}}),kt=me({...Te(),...ze({variant:"text"})},"VToolbarItems"),_t=de()({name:"VToolbarItems",props:kt(),setup(e,k){let{slots:t}=k;return Ee({VBtn:{color:Ve(e,"color"),height:"inherit",variant:Ve(e,"variant")}}),ve(()=>{var n;return a("div",{class:["v-toolbar-items",e.class],style:e.style},[(n=t.default)==null?void 0:n.call(t)])}),{}}}),ht={key:0},yt={class:"text-center",colspan:"7"},Vt={class:"text-center"},xt={class:"text-center"},Pt={class:"text-center"},Tt={class:"text-center"},Ct={key:2},St={__name:"AnggotaRombelDialog",props:{isDialogVisible:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0},dialogTitle:{type:String,required:!0},listData:{type:Array,required:!0}},emits:["update:isDialogVisible","refresh"],setup(e,{emit:k}){const t=e,n=r=>{f("update:isDialogVisible",r)},f=k,h=V(!1),b=V({color:"",title:"",text:""}),w=V([]),P=V(),y=async r=>{P.value=r,h.value=!0},T=async()=>{w.value[P.value]=!0,await re("/referensi/rombongan-belajar/hapus-anggota-rombel",{method:"POST",body:{anggota_rombel_id:P.value},onResponse({request:r,response:i,options:I}){let c=i._data;w.value[P.value]=!1,b.value=c}})},d=async()=>{f("refresh")};return(r,i)=>{const I=pa;return F(),H(le,null,[a(Je,{"model-value":t.isDialogVisible,"onUpdate:modelValue":n,fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:v(()=>[a(Pe,null,{default:v(()=>[s("div",null,[a(oa,{color:"primary"},{default:v(()=>[a(oe,{icon:"",variant:"plain",onClick:i[0]||(i[0]=c=>n(!1))},{default:v(()=>[a(te,{color:"white",icon:"tabler-x"})]),_:1}),a(De,null,{default:v(()=>[Y(L(e.dialogTitle),1)]),_:1}),a(Se)]),_:1})]),a(We,{class:"permission-table mb-6"},{default:v(()=>[i[3]||(i[3]=s("thead",null,[s("tr",null,[s("th",{class:"text-center"},"No"),s("th",null,"Nama"),s("th",{class:"text-center"},"NISN"),s("th",{class:"text-center"},"L/P"),s("th",null,"Tempat, Tanggal Lahir"),s("th",null,"Agama"),s("th",{class:"text-center"},"Keluarkan")])],-1)),s("tbody",null,[e.isLoading?(F(),H("tr",ht,[s("td",yt,[a(He,{size:60,indeterminate:"",color:"error",class:"my-10"})])])):e.listData.length?(F(!0),H(le,{key:1},Ce(e.listData,(c,K)=>{var D;return F(),H("tr",null,[s("td",Vt,L(K+1),1),s("td",null,L(c.nama),1),s("td",xt,L(c.nisn),1),s("td",Pt,L(c.jenis_kelamin),1),s("td",null,L(c.tempat_tanggal_lahir),1),s("td",null,L((D=c.agama)==null?void 0:D.nama),1),s("td",Tt,[a(oe,{loading:u(w)[c.anggota_rombel.anggota_rombel_id],disabled:u(w)[c.anggota_rombel.anggota_rombel_id],color:"error",icon:"tabler-trash",onClick:N=>y(c.anggota_rombel.anggota_rombel_id)},null,8,["loading","disabled","onClick"])])])}),256)):(F(),H("tr",Ct,i[2]||(i[2]=[s("td",{class:"text-center",colspan:"7"},"Tidak ada untuk ditampilkan",-1)])))])]),_:1})]),_:1})]),_:1},8,["model-value"]),a(I,{isDialogVisible:u(h),"onUpdate:isDialogVisible":i[1]||(i[1]=c=>W(h)?h.value=c:null),"confirmation-question":"Apakah Anda yakin?","confirmation-text":"Tindakan ini tidak dapat dikembalikan!","confirm-color":u(b).color,"confirm-title":u(b).title,"confirm-msg":u(b).text,onConfirm:T,onClose:d},null,8,["isDialogVisible","confirm-color","confirm-title","confirm-msg"])],64)}}};function wt(e,k,t){if(k==null)return e;if(Array.isArray(k))throw new Error("Multiple matches is not implemented");return typeof k=="number"&&~k?a(le,null,[a("span",{class:"v-autocomplete__unmask"},[e.substr(0,k)]),a("span",{class:"v-autocomplete__mask"},[e.substr(k,t)]),a("span",{class:"v-autocomplete__unmask"},[e.substr(k+t)])]):e}const Dt=me({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...lt({filterKeys:["title"]}),...Ja(),...Ge(at({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Qa({transition:!1})},"VAutocomplete"),At=de()({name:"VAutocomplete",props:Dt(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,k){let{slots:t}=k;const{t:n}=Pa(),f=V(),h=Q(!1),b=Q(!0),w=Q(!1),P=V(),y=V(),T=be(e,"menu"),d=B({get:()=>T.value,set:l=>{var p;T.value&&!l&&((p=P.value)!=null&&p.Î¨openChildren.size)||(T.value=l)}}),r=Q(-1),i=B(()=>{var l;return(l=f.value)==null?void 0:l.color}),I=B(()=>d.value?e.closeText:e.openText),{items:c,transformIn:K,transformOut:D}=ot(e),{textColorClasses:N,textColorStyles:M}=Ta(i),x=be(e,"search",""),g=be(e,"modelValue",[],l=>K(l===null?[null]:Ca(l)),l=>{const p=D(l);return e.multiple?p:p[0]??null}),ne=B(()=>typeof e.counterValue=="function"?e.counterValue(g.value):typeof e.counterValue=="number"?e.counterValue:g.value.length),Z=Ya(e),{filteredItems:O,getMatches:se}=tt(e,c,()=>b.value?"":x.value),C=B(()=>e.hideSelected?O.value.filter(l=>!g.value.some(p=>p.value===l.value)):O.value),o=B(()=>!!(e.chips||t.chip)),A=B(()=>o.value||!!t.selection),z=B(()=>g.value.map(l=>l.props.value)),$=B(()=>{var p;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&x.value===((p=C.value[0])==null?void 0:p.title))&&C.value.length>0&&!b.value&&!w.value}),ie=B(()=>e.hideNoData&&!C.value.length||Z.isReadonly.value||Z.isDisabled.value),ue=V(),m=Wa(ue,f);function G(l){e.openOnClear&&(d.value=!0),x.value=""}function sa(){ie.value||(d.value=!0)}function ia(l){ie.value||(h.value&&(l.preventDefault(),l.stopPropagation()),d.value=!d.value)}function ua(l){var p;Aa(l)&&((p=f.value)==null||p.focus())}function ra(l){var _,S,q;if(Z.isReadonly.value)return;const p=f.value.selectionStart,j=g.value.length;if((r.value>-1||["Enter","ArrowDown","ArrowUp"].includes(l.key))&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(d.value=!0),["Escape"].includes(l.key)&&(d.value=!1),$.value&&["Enter","Tab"].includes(l.key)&&!g.value.some(R=>{let{value:U}=R;return U===C.value[0].value})&&X(C.value[0]),l.key==="ArrowDown"&&$.value&&((_=ue.value)==null||_.focus("next")),["Backspace","Delete"].includes(l.key)){if(!e.multiple&&A.value&&g.value.length>0&&!x.value)return X(g.value[0],!1);if(~r.value){const R=r.value;X(g.value[r.value],!1),r.value=R>=j-1?j-2:R}else l.key==="Backspace"&&!x.value&&(r.value=j-1)}if(e.multiple){if(l.key==="ArrowLeft"){if(r.value<0&&p>0)return;const R=r.value>-1?r.value-1:j-1;g.value[R]?r.value=R:(r.value=-1,f.value.setSelectionRange((S=x.value)==null?void 0:S.length,(q=x.value)==null?void 0:q.length))}if(l.key==="ArrowRight"){if(r.value<0)return;const R=r.value+1;g.value[R]?r.value=R:(r.value=-1,f.value.setSelectionRange(0,0))}}}function ca(l){if(Ie(f.value,":autofill")||Ie(f.value,":-webkit-autofill")){const p=c.value.find(j=>j.title===l.target.value);p&&X(p)}}function da(){var l;e.eager&&((l=y.value)==null||l.calculateVisibleItems())}function ma(){var l;h.value&&(b.value=!0,(l=f.value)==null||l.focus())}function va(l){h.value=!0,setTimeout(()=>{w.value=!0})}function fa(l){w.value=!1}function ga(l){(l==null||l===""&&!e.multiple&&!A.value)&&(g.value=[])}const he=Q(!1);function X(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!l||l.props.disabled))if(e.multiple){const j=g.value.findIndex(S=>e.valueComparator(S.value,l.value)),_=p??!~j;if(~j){const S=_?[...g.value,l]:[...g.value];S.splice(j,1),g.value=S}else _&&(g.value=[...g.value,l]);e.clearOnSelect&&(x.value="")}else{const j=p!==!1;g.value=j?[l]:[],x.value=j&&!A.value?l.title:"",xe(()=>{d.value=!1,b.value=!0})}}return ae(h,(l,p)=>{var j;l!==p&&(l?(he.value=!0,x.value=e.multiple||A.value?"":String(((j=g.value.at(-1))==null?void 0:j.props.title)??""),b.value=!0,xe(()=>he.value=!1)):(!e.multiple&&x.value==null&&(g.value=[]),d.value=!1,g.value.some(_=>{let{title:S}=_;return S===x.value})||(x.value=""),r.value=-1))}),ae(x,l=>{!h.value||he.value||(l&&(d.value=!0),b.value=!l)}),ae(d,()=>{if(!e.hideSelected&&d.value&&g.value.length){const l=C.value.findIndex(p=>g.value.some(j=>p.value===j.value));Sa&&window.requestAnimationFrame(()=>{var p;l>=0&&((p=y.value)==null||p.scrollToIndex(l))})}}),ae(()=>e.items,(l,p)=>{d.value||h.value&&!p.length&&l.length&&(d.value=!0)}),ve(()=>{const l=!!(!e.hideNoData||C.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),p=g.value.length>0,j=Be.filterProps(e);return a(Be,J({ref:f},j,{modelValue:x.value,"onUpdate:modelValue":[_=>x.value=_,ga],focused:h.value,"onUpdate:focused":_=>h.value=_,validationValue:g.externalValue,counterValue:ne.value,dirty:p,onChange:ca,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!A.value,"v-autocomplete--selecting-index":r.value>-1},e.class],style:e.style,readonly:Z.isReadonly.value,placeholder:p?void 0:e.placeholder,"onClick:clear":G,"onMousedown:control":sa,onKeydown:ra}),{...t,default:()=>a(le,null,[a(ta,J({ref:P,modelValue:d.value,"onUpdate:modelValue":_=>d.value=_,activator:"parent",contentClass:"v-autocomplete__content",disabled:ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:da,onAfterLeave:ma},e.menuProps),{default:()=>[l&&a(aa,J({ref:ue,selected:z.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:_=>_.preventDefault(),onKeydown:ua,onFocusin:va,onFocusout:fa,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},m,e.listProps),{default:()=>{var _,S,q;return[(_=t["prepend-item"])==null?void 0:_.call(t),!C.value.length&&!e.hideNoData&&(((S=t["no-data"])==null?void 0:S.call(t))??a(_e,{title:n(e.noDataText)},null)),a(Xa,{ref:y,renderless:!0,items:C.value},{default:R=>{var je;let{item:U,index:ee,itemRef:E}=R;const Ae=J(U.props,{ref:E,key:ee,active:$.value&&ee===0?!0:void 0,onClick:()=>X(U,null)});return((je=t.item)==null?void 0:je.call(t,{item:U,index:ee,props:Ae}))??a(_e,J(Ae,{role:"option"}),{prepend:fe=>{let{isSelected:ge}=fe;return a(le,null,[e.multiple&&!e.hideSelected?a(et,{key:U.value,modelValue:ge,ripple:!1,tabindex:"-1"},null):void 0,U.props.prependAvatar&&a(we,{image:U.props.prependAvatar},null),U.props.prependIcon&&a(te,{icon:U.props.prependIcon},null)])},title:()=>{var fe,ge;return b.value?U.title:wt(U.title,(fe=se(U))==null?void 0:fe.title,((ge=x.value)==null?void 0:ge.length)??0)}})}}),(q=t["append-item"])==null?void 0:q.call(t)]}})]}),g.value.map((_,S)=>{function q(E){E.stopPropagation(),E.preventDefault(),X(_,!1)}const R={"onClick:close":q,onKeydown(E){E.key!=="Enter"&&E.key!==" "||(E.preventDefault(),E.stopPropagation(),q(E))},onMousedown(E){E.preventDefault(),E.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},U=o.value?!!t.chip:!!t.selection,ee=U?Da(o.value?t.chip({item:_,index:S,props:R}):t.selection({item:_,index:S})):void 0;if(!(U&&!ee))return a("div",{key:_.value,class:["v-autocomplete__selection",S===r.value&&["v-autocomplete__selection--selected",N.value]],style:S===r.value?M.value:{}},[o.value?t.chip?a(ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:_.title}}},{default:()=>[ee]}):a(la,J({key:"chip",closable:e.closableChips,size:"small",text:_.title,disabled:_.props.disabled},R),null):ee??a("span",{class:"v-autocomplete__selection-text"},[_.title,e.multiple&&S<g.value.length-1&&a("span",{class:"v-autocomplete__selection-comma"},[Y(",")])])])})]),"append-inner":function(){var R;for(var _=arguments.length,S=new Array(_),q=0;q<_;q++)S[q]=arguments[q];return a(le,null,[(R=t["append-inner"])==null?void 0:R.call(t,...S),e.menuIcon?a(te,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:ia,onClick:wa,"aria-label":n(I.value),title:n(I.value),tabindex:"-1"},null):void 0])}})}),ea({isFocused:h,isPristine:b,menu:d,search:x,filteredItems:O,select:X},f)}}),jt=Object.assign({name:"AppAutocomplete",inheritAttrs:!1},{__name:"AppAutocomplete",setup(e){const k=B(()=>{const f=Re().id,h=ja();return f?`app-autocomplete-${f}`:h}),t=B(()=>Re().label);return(n,f)=>(F(),H("div",{class:$a(["app-autocomplete flex-grow-1",n.$attrs.class])},[u(t)?(F(),ke(Za,{key:0,for:u(k),class:"mb-1 text-body-2",text:u(t)},null,8,["for","text"])):Qe("",!0),a(At,$e(Ue({...n.$attrs,class:null,label:void 0,id:u(k),variant:"outlined",menuProps:{contentClass:["app-inner-list","app-autocomplete__content","v-autocomplete__content"]}})),Ia({_:2},[Ce(n.$slots,(h,b)=>({name:b,fn:v(w=>[Ra(n.$slots,b,$e(Ue(w||{})))])}))]),1040)],2))}}),It={key:0},Rt={class:"text-center",colspan:"8"},$t={class:"text-center"},Ut={class:"text-center"},Bt={key:2},Lt={__name:"PembelajaranDialog",props:{isDialogVisible:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0},dialogTitle:{type:String,required:!0},listData:{type:Array,required:!0},listGuru:{type:Array,required:!0},listKelompok:{type:Array,required:!0}},emits:["update:isDialogVisible","save","refresh"],setup(e,{emit:k}){const t=e,n=P=>{f("update:isDialogVisible",P)},f=k,h=async()=>{f("save")},b=V([]),w=async P=>{b.value[P]=!0,await re("/referensi/rombongan-belajar/hapus-pembelajaran",{method:"POST",body:{pembelajaran_id:P},onResponse(){b.value[P]=!1,f("refresh")}})};return(P,y)=>{const T=na,d=Xe,r=jt;return F(),ke(Je,{"model-value":t.isDialogVisible,"onUpdate:modelValue":n,fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:v(()=>[a(Pe,null,{default:v(()=>[s("div",null,[a(oa,{color:"primary"},{default:v(()=>[a(oe,{icon:"",variant:"plain",onClick:y[0]||(y[0]=i=>n(!1))},{default:v(()=>[a(te,{color:"white",icon:"tabler-x"})]),_:1}),a(De,null,{default:v(()=>[Y(L(e.dialogTitle),1)]),_:1}),a(Se),a(_t,null,{default:v(()=>[a(oe,{variant:"text",onClick:h},{default:v(()=>y[1]||(y[1]=[Y(" Simpan ")])),_:1})]),_:1})]),_:1})]),a(We,{class:"permission-table mb-6"},{default:v(()=>[y[3]||(y[3]=s("thead",null,[s("tr",null,[s("th",{class:"text-center"},"No"),s("th",{class:"text-center"},"Mata Pelajaran"),s("th",{class:"text-center"},"ID Mapel"),s("th",{class:"text-center"},"Guru Mapel (Dapodik)"),s("th",{class:"text-center"},"Guru Pengajar"),s("th",{class:"text-center"},"Kelompok"),s("th",{class:"text-center"},"Nomor Urut"),s("th",{class:"text-center"},"Reset")])],-1)),s("tbody",null,[e.isLoading?(F(),H("tr",It,[s("td",Rt,[a(He,{size:60,indeterminate:"",color:"error",class:"my-10"})])])):e.listData.length?(F(!0),H(le,{key:1},Ce(e.listData,(i,I)=>(F(),H("tr",null,[s("td",$t,L(I+1),1),s("td",null,[a(T,{modelValue:i.nama_mata_pelajaran,"onUpdate:modelValue":c=>i.nama_mata_pelajaran=c},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[a(T,{modelValue:i.mata_pelajaran_id,"onUpdate:modelValue":c=>i.mata_pelajaran_id=c,disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[a(d,{modelValue:i.guru_id,"onUpdate:modelValue":c=>i.guru_id=c,items:e.listGuru,"item-title":"nama_lengkap","item-value":"guru_id",disabled:""},{selection:v(({item:c})=>[a(la,null,{prepend:v(()=>[a(we,{start:"",image:c.raw.photo},null,8,["image"])]),default:v(()=>[s("span",null,L(c.raw.nama_lengkap),1)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","items"])]),s("td",null,[a(r,{items:e.listGuru,placeholder:"== Pilih Guru Pengajar ==","item-title":"nama_lengkap","item-value":"guru_id",modelValue:i.guru_pengajar_id,"onUpdate:modelValue":c=>i.guru_pengajar_id=c},null,8,["items","modelValue","onUpdate:modelValue"])]),s("td",null,[a(r,{items:e.listKelompok,placeholder:"== Pilih Kelompok ==","item-title":"nama_kelompok","item-value":"kelompok_id",modelValue:i.kelompok_id,"onUpdate:modelValue":c=>i.kelompok_id=c},null,8,["items","modelValue","onUpdate:modelValue"])]),s("td",null,[a(T,{modelValue:i.no_urut,"onUpdate:modelValue":c=>i.no_urut=c},null,8,["modelValue","onUpdate:modelValue"])]),s("td",Ut,[i.kelompok_id&&i.no_urut?(F(),ke(oe,{key:0,loading:u(b)[i.pembelajaran_id],disabled:u(b)[i.pembelajaran_id],color:"error",icon:"tabler-trash",onClick:c=>w(i.pembelajaran_id)},null,8,["loading","disabled","onClick"])):Qe("",!0)])]))),256)):(F(),H("tr",Bt,y[2]||(y[2]=[s("td",{class:"text-center",colspan:"8"},"Tidak ada untuk ditampilkan",-1)])))])]),_:1})]),_:1})]),_:1},8,["model-value"])}}};function Ft(e){const k=Q(e());let t=-1;function n(){clearInterval(t)}function f(){n(),xe(()=>k.value=e())}function h(b){const w=b?getComputedStyle(b):{transitionDuration:.2},P=parseFloat(w.transitionDuration)*1e3||200;if(n(),k.value<=0)return;const y=performance.now();t=window.setInterval(()=>{const T=performance.now()-y+P;k.value=Math.max(e()-T,0),k.value<=0&&n()},P)}return Ea(n),{clear:n,time:k,start:h,reset:f}}const Nt=me({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...qa({location:"bottom"}),...Ma(),...Oe(),...ze(),...Ke(),...Ge(ft({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Mt=de()({name:"VSnackbar",props:Nt(),emits:{"update:modelValue":e=>!0},setup(e,k){let{slots:t}=k;const n=be(e,"modelValue"),{positionClasses:f}=Ua(e),{scopeId:h}=vt(),{themeClasses:b}=qe(e),{colorClasses:w,colorStyles:P,variantClasses:y}=Ba(e),{roundedClasses:T}=Me(e),d=Ft(()=>Number(e.timeout)),r=V(),i=V(),I=Q(!1),c=Q(0),K=V(),D=La(Ka,void 0);Fa(()=>!!D,()=>{const o=Oa();za(()=>{K.value=o.mainStyles.value})}),ae(n,M),ae(()=>e.timeout,M),Ye(()=>{n.value&&M()});let N=-1;function M(){d.reset(),window.clearTimeout(N);const o=Number(e.timeout);if(!n.value||o===-1)return;const A=Na(i.value);d.start(A),N=window.setTimeout(()=>{n.value=!1},o)}function x(){d.reset(),window.clearTimeout(N)}function g(){I.value=!0,x()}function ne(){I.value=!1,M()}function Z(o){c.value=o.touches[0].clientY}function O(o){Math.abs(c.value-o.changedTouches[0].clientY)>50&&(n.value=!1)}function se(){I.value&&ne()}const C=B(()=>e.location.split(" ").reduce((o,A)=>(o[`v-snackbar--${A}`]=!0,o),{}));return ve(()=>{const o=Fe.filterProps(e),A=!!(t.default||t.text||e.text);return a(Fe,J({ref:r,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},C.value,f.value,e.class],style:[K.value,e.style]},o,{modelValue:n.value,"onUpdate:modelValue":z=>n.value=z,contentProps:J({class:["v-snackbar__wrapper",b.value,w.value,T.value,y.value],style:[P.value],onPointerenter:g,onPointerleave:ne},o.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:Z,onTouchend:O,onAfterLeave:se},h),{default:()=>{var z,$;return[Ha(!1,"v-snackbar"),e.timer&&!I.value&&a("div",{key:"timer",class:"v-snackbar__timer"},[a(Ga,{ref:i,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),A&&a("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((z=t.text)==null?void 0:z.call(t))??e.text,($=t.default)==null?void 0:$.call(t)]),t.actions&&a(ce,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[a("div",{class:"v-snackbar__actions"},[t.actions({isActive:n})])]})]},activator:t.activator})}),ea({},r)}}),qt={class:"d-flex gap-2 align-center"},Et={class:"d-flex align-center flex-wrap gap-4"},Kt={class:"d-flex align-center gap-x-4"},Ot={class:"d-flex flex-column"},zt={class:"text-base"},Ht={class:"text-sm"},kl={__name:"RombonganBelajar",props:{jenisRombel:{type:Number,required:!0}},setup(e){const k=e,t=[{title:"Nama",key:"nama",sortable:!0,nowrap:!0},{title:"Wali Kelas",key:"wali_kelas",sortable:!1},{title:"Tingkat",key:"tingkat",align:"center",sortable:!0},{title:"Program/Kompetensi Keahlian",key:"jurusan_sp",sortable:!1},{title:"Kurikulum",key:"kurikulum",sortable:!1},{title:"aksi",key:"aksi",align:"center",sortable:!1}],n=V({page:1,itemsPerPage:10,searchQuery:"",selectedRole:null,sortby:"tingkat",sortbydesc:"ASC"}),f=V(!1),h=V([]),b=V(0),w=C=>{var o,A;n.value.sortby=(o=C[0])==null?void 0:o.key,n.value.sortbydesc=(A=C[0])==null?void 0:A.order},P=async()=>{f.value=!0;try{let o=(await it(ut("/referensi/rombongan-belajar",{query:{jenis_rombel:k.jenisRombel,sekolah_id:rt.sekolah_id,semester_id:ye.semester_id,periode_aktif:ye.nama,q:n.value.searchQuery,page:n.value.page,per_page:n.value.itemsPerPage,sortby:n.value.sortby,sortbydesc:n.value.sortbydesc}}))).data.value;h.value=o.data.data,b.value=o.data.total}catch(C){console.error(C)}finally{f.value=!1}};Ye(async()=>{await P()}),ae(n,async()=>{await P()},{deep:!0});const y=V(),T=V(!1),d=V(!1),r=V(""),i=V([]),I=V([]),c=V([]),K=V([]),D=V(!1),N=V(""),M=V(""),x=async C=>{D.value=!0,y.value=C,d.value=!0,await re("/referensi/rombongan-belajar/anggota-rombel",{method:"POST",body:{rombongan_belajar_id:y.value},onResponse({request:o,response:A,options:z}){let $=A._data;r.value=`Anggota Rombel Kelas ${$.rombel.nama}`,I.value=$.data,D.value=!1}})},g=async C=>{D.value=!0,y.value=C,T.value=!0,await re("/referensi/rombongan-belajar/pembelajaran",{method:"POST",body:{rombongan_belajar_id:y.value,sekolah_id:ct.sekolah_id,semester_id:ye.semester_id},onResponse({request:o,response:A,options:z}){let $=A._data;r.value=`Pembelajaran Kelas ${$.rombel.nama}`,i.value=$.data,c.value=$.guru,K.value=$.kelompok,D.value=!1}})},ne=async()=>{N.value="Pembelajaran berhasil dihapus",M.value="bottom",O.value=!0,g(y.value)},Z=async()=>{x(y.value)},O=V(!1),se=async()=>{await re("/referensi/rombongan-belajar/simpan-pembelajaran",{method:"POST",body:i.value,onResponse(){N.value="Pembelajaran berhasil disimpan",M.value="top",O.value=!0,g(y.value)}})};return(C,o)=>{const A=Xe,z=na,$=st,ie=Lt,ue=St;return F(),ke(Pe,null,{default:v(()=>[a(dt,{class:"d-flex flex-wrap gap-4"},{default:v(()=>[s("div",qt,[a(A,{modelValue:u(n).itemsPerPage,"onUpdate:modelValue":o[0]||(o[0]=m=>u(n).itemsPerPage=m),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}],style:{"inline-size":"15.5rem"}},null,8,["modelValue"])]),a(Se),s("div",Et,[a(z,{modelValue:u(n).searchQuery,"onUpdate:modelValue":o[1]||(o[1]=m=>u(n).searchQuery=m),placeholder:"Cari data",style:{"inline-size":"15.625rem"}},null,8,["modelValue"])])]),_:1}),a(mt),a(nt,{page:u(n).page,"onUpdate:page":o[3]||(o[3]=m=>u(n).page=m),"items-per-page":u(n).itemsPerPage,"items-per-page-options":[{value:10,title:"10"},{value:20,title:"20"},{value:50,title:"50"}],items:u(h),"server-items-length":u(b),"items-length":u(b),headers:t,"items-per-page-text":"Item",options:u(n),loading:u(f),"loading-text":"Loading...","onUpdate:sortBy":w,"header-props":{class:"text-no-wrap"}},{"item.wali_kelas":v(({item:m})=>[s("div",Kt,[a(we,{size:"34",variant:m.wali_kelas.photo?void 0:"tonal",color:m.wali_kelas.photo?void 0:"success"},{default:v(()=>[a(Ze,{src:m.wali_kelas.photo},null,8,["src"])]),_:2},1032,["variant","color"]),s("div",Ot,[s("h6",zt,L(m.wali_kelas.nama_lengkap),1),s("div",Ht,L(m.wali_kelas.email),1)])])]),"item.jurusan_sp":v(({item:m})=>{var G;return[Y(L((G=m.jurusan_sp)==null?void 0:G.nama_jurusan_sp),1)]}),"item.kurikulum":v(({item:m})=>{var G;return[Y(L((G=m.kurikulum)==null?void 0:G.nama_kurikulum),1)]}),"item.aksi":v(({item:m})=>[a(oe,{icon:"",variant:"text",color:"medium-emphasis"},{default:v(()=>[a(te,{icon:"tabler-dots-vertical"}),a(ta,{activator:"parent"},{default:v(()=>[a(aa,null,{default:v(()=>[a(_e,{onClick:G=>x(m.rombongan_belajar_id)},{prepend:v(()=>[a(te,{icon:"tabler-users-group"})]),default:v(()=>[a(Le,null,{default:v(()=>o[11]||(o[11]=[Y("Anggota Rombel")])),_:1})]),_:2},1032,["onClick"]),a(_e,{onClick:G=>g(m.rombongan_belajar_id)},{prepend:v(()=>[a(te,{icon:"tabler-list"})]),default:v(()=>[a(Le,null,{default:v(()=>o[12]||(o[12]=[Y("Pembelajaran")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:v(()=>[a($,{page:u(n).page,"onUpdate:page":o[2]||(o[2]=m=>u(n).page=m),"items-per-page":u(n).itemsPerPage,"total-items":u(b)},null,8,["page","items-per-page","total-items"])]),_:1},8,["page","items-per-page","items","server-items-length","items-length","options","loading"]),a(ie,{isDialogVisible:u(T),"onUpdate:isDialogVisible":o[4]||(o[4]=m=>W(T)?T.value=m:null),isLoading:u(D),"onUpdate:isLoading":o[5]||(o[5]=m=>W(D)?D.value=m:null),"dialog-title":u(r),listData:u(i),"onUpdate:listData":o[6]||(o[6]=m=>W(i)?i.value=m:null),"list-guru":u(c),"list-kelompok":u(K),onSave:se,onRefresh:ne},null,8,["isDialogVisible","isLoading","dialog-title","listData","list-guru","list-kelompok"]),a(ue,{isDialogVisible:u(d),"onUpdate:isDialogVisible":o[7]||(o[7]=m=>W(d)?d.value=m:null),isLoading:u(D),"onUpdate:isLoading":o[8]||(o[8]=m=>W(D)?D.value=m:null),"dialog-title":u(r),listData:u(I),"onUpdate:listData":o[9]||(o[9]=m=>W(I)?I.value=m:null),onRefresh:Z},null,8,["isDialogVisible","isLoading","dialog-title","listData"]),a(Mt,{modelValue:u(O),"onUpdate:modelValue":o[10]||(o[10]=m=>W(O)?O.value=m:null),color:"success",location:u(M)},{default:v(()=>[Y(L(u(N)),1)]),_:1},8,["modelValue","location"])]),_:1})}}};export{kl as _};
