import{a as v,d as k,t as P}from"./mixins-DJSXg3_K.js";import{_ as R}from"./ProfileSiswa-DODEAApE.js";import{_ as z}from"./AppSelect-B1N298I1.js";import{_ as B}from"./AppTextField-DRZobeyL.js";import{$ as F}from"./api-C7hqkzQu.js";import{V as D,c as K,a as N,b as $}from"./VCard-Hl4VZp-N.js";import{V as w}from"./VDivider-CdyzDW00.js";import{V as g,a as p}from"./VRow-DqNX5XRF.js";import{r as h,f as V,e as l,o,b as e,t as S,d as i,m as a,c as d,am as A,F as x,y as c,h as I,aa as f}from"./main-DSxXZ1AO.js";import{V as U}from"./VTable-BbrzQ4JA.js";import"./VImg-Cm06cUAe.js";import"./VAvatar-C9llqQzy.js";import"./VLabel-IainGnFd.js";import"./VSelect-BlH1JxBP.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-BkAwIohe.js";import"./ssrBoot-CxDfEv1t.js";import"./VOverlay-BXj1dB8J.js";import"./scopeId-6ucT1DxB.js";import"./VMenu-Pb8t4C2f.js";import"./VSelectionControl-u6EMPOfw.js";import"./VChip-Q01d0GkM.js";import"./VSlideGroup-Dmjmu98K.js";/* empty css                   */import"./VField-uE2OAIKt.js";import"./index-BxkgbwWS.js";/* empty css              */const E={key:0,class:"text-center"},H={key:1,class:"text-center"},L={class:"text-center"},M={key:0,class:"text-center"},O={key:1,class:"text-center"},q={key:2,class:"text-center"},G={key:3,class:"text-center"},J={key:4,class:"text-center"},Q={class:"text-center"},we={__name:"cetak-rapor",setup(W){const t=h({tingkat:null,rombongan_belajar_id:null,semester_id:v.semester_id,user_id:k.user_id,guru_id:k.guru_id,sekolah_id:k.sekolah_id,merdeka:!1,rapor_pts:!1,is_ppa:!1,is_new_ppa:!0}),_=h({rombel:[],siswa:[]}),u=h({rombel:!1,body:!1}),y=async s=>{const r={...s,...t.value};await F("/monitoring/get-data",{method:"POST",body:r,onResponse({response:b}){let m=b._data;s.data=="rombel"&&(_.value.rombel=m),s.data=="siswa"&&(_.value.siswa=m.data_siswa,t.value.merdeka=m.merdeka,t.value.rapor_pts=m.rapor_pts,t.value.is_ppa=m.is_ppa,t.value.is_new_ppa=m.is_new_ppa)}})},T=async s=>{t.value.rombongan_belajar_id=null,_.value.rombel=[],_.value.siswa=[],s&&(u.value.rombel=!0,await y({data:"rombel"}).then(()=>{u.value.rombel=!1}))},j=async s=>{_.value.siswa=[],s&&(u.value.body=!0,await y({data:"siswa"}).then(()=>{u.value.body=!1}))};return(s,r)=>{const b=B,m=z,C=R;return o(),V(D,{class:"mb-6"},{default:l(()=>[e(N,{class:"pb-4"},{default:l(()=>[e(K,null,{default:l(()=>r[2]||(r[2]=[S("Monitoring Â» Cetak Rapor")])),_:1})]),_:1}),e(w),e($,null,{default:l(()=>[e(g,null,{default:l(()=>[e(p,{cols:"12"},{default:l(()=>[e(g,{"no-gutters":""},{default:l(()=>[e(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[3]||(r[3]=[i("label",{class:"v-label text-body-2 text-high-emphasis",for:"semester_id"},"Tahun Pelajaran",-1)])),_:1}),e(p,{cols:"12",md:"9"},{default:l(()=>[e(b,{id:"semester_id",value:("$semester"in s?s.$semester:a(v)).nama,disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(p,{cols:"12"},{default:l(()=>[e(g,{"no-gutters":""},{default:l(()=>[e(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[4]||(r[4]=[i("label",{class:"v-label text-body-2 text-high-emphasis",for:"tingkat"},"Tingkat Kelas",-1)])),_:1}),e(p,{cols:"12",md:"9"},{default:l(()=>[e(m,{modelValue:a(t).tingkat,"onUpdate:modelValue":[r[0]||(r[0]=n=>a(t).tingkat=n),T],placeholder:"== Pilih Tingkat kelas ==",items:"tingkatKelas"in s?s.tingkatKelas:a(P),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(p,{cols:"12"},{default:l(()=>[e(g,{"no-gutters":""},{default:l(()=>[e(p,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:l(()=>r[5]||(r[5]=[i("label",{class:"v-label text-body-2 text-high-emphasis",for:"rombonganBelajarId"},"Rombongan Belajar",-1)])),_:1}),e(p,{cols:"12",md:"9"},{default:l(()=>[e(m,{modelValue:a(t).rombongan_belajar_id,"onUpdate:modelValue":[r[1]||(r[1]=n=>a(t).rombongan_belajar_id=n),j],placeholder:"== Pilih Rombongan Belajar == ",items:a(_).rombel,clearable:"","clear-icon":"tabler-x","item-value":"rombongan_belajar_id","item-title":"nama",loading:a(u).rombel,disabled:a(u).rombel},null,8,["modelValue","items","loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(u).body?(o(),d(x,{key:0},[e(w),e($,{class:"text-center"},{default:l(()=>[e(A,{size:60,indeterminate:"",color:"error",class:"my-10"})]),_:1})],64)):(o(),d(x,{key:1},[a(_).siswa.length?(o(),V(U,{key:0,class:"text-no-wrap"},{default:l(()=>[i("thead",null,[i("tr",null,[r[6]||(r[6]=i("th",{class:"text-center"},"Peserta Didik",-1)),r[7]||(r[7]=i("th",{class:"text-center"},"Halaman Depan",-1)),r[8]||(r[8]=i("th",{class:"text-center"},"Rapor Akademik",-1)),a(t).rapor_pts?(o(),d("th",E,"Rapor Tengah Semester")):c("",!0),a(t).merdeka&&!a(t).is_new_ppa?(o(),d("th",H,"Rapor P5")):c("",!0),r[9]||(r[9]=i("th",{class:"text-center"},"Dokumen Pendukung",-1))])]),i("tbody",null,[(o(!0),d(x,null,I(a(_).siswa,n=>(o(),d("tr",null,[i("td",null,[e(C,{item:n},null,8,["item"])]),i("td",L,[e(f,{size:"x-large",icon:"tabler-file-type-pdf",color:"success",variant:"text",href:`/cetak/rapor-cover/${n.peserta_didik_id}/${s.defaultForm.sekolah_id}/${s.defaultForm.semester_id}`,target:"_blank"},null,8,["href"])]),a(t).is_new_ppa?(o(),d("td",M,[e(f,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-akademik/${n.peserta_didik_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):a(t).merdeka||a(t).is_ppa?(o(),d("td",O,[e(f,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-nilai-akhir/${n.anggota_rombel.anggota_rombel_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):(o(),d("td",q,[e(f,{size:"x-large",icon:"tabler-file-type-pdf",color:"warning",variant:"text",href:`/cetak/rapor-semester/${n.peserta_didik_id}/${a(t).sekolah_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])),a(t).rapor_pts?(o(),d("td",G,[e(f,{size:"x-large",icon:"tabler-file-type-pdf",color:"primary",variant:"text",href:`/cetak/rapor-tengah-semester/${n.peserta_didik_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):c("",!0),a(t).merdeka&&!a(t).is_new_ppa?(o(),d("td",J,[e(f,{size:"x-large",icon:"tabler-file-type-pdf",color:"info",variant:"text",href:`/cetak/rapor-p5/${n.anggota_rombel.anggota_rombel_id}/${a(t).semester_id}`,target:"_blank"},null,8,["href"])])):c("",!0),i("td",Q,[e(f,{size:"x-large",icon:"tabler-file-type-pdf",color:"error",variant:"text",href:`/cetak/rapor-pelengkap/${n.peserta_didik_id}/${s.defaultForm.sekolah_id}/${s.defaultForm.semester_id}`,target:"_blank"},null,8,["href"])])]))),256))])]),_:1})):c("",!0)],64))]),_:1})}}};export{we as default};
