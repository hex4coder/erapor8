import{_ as oe}from"./ConfirmDialog-BMsaxd9b.js";import{_ as le}from"./AppTextField-B_x-gJGn.js";import{_ as se}from"./TablePagination-D4iDaMYv.js";import{_ as ie}from"./AppSelect-BxtXAod9.js";import{V as re}from"./VSpacer-HUiYnNWm.js";import{c5 as ne,a as ue,c as H,o as N,d as w,b as t,f as Z,l as ce,e as o,t as P,v as R,m as l,a1 as M,$ as G,F as de,h as me,x as fe,a6 as pe,a7 as ge,ao as ve,bI as be,aL as ke,aN as ye,ae as Ve,r as v,aZ as K,Q as _e,cf as xe,bp as Se,w as F,G as Ce,cg as we,Y as J,a8 as Te,q as W,b4 as Pe,ak as he,aQ as Ae,al as De,bJ as Be,am as Ie,bv as qe,az as $e,ch as Ue,by as Le,aU as Ne,ci as Oe,at as Ee,ay as Qe,a3 as q}from"./main-DMixy-zA.js";import{V as Re}from"./VDivider-DKUBYDqU.js";import{V as Me}from"./VDataTableServer-CaO2P-g-.js";import{u as Fe,a as X,m as je}from"./VOverlay-BQWTyvUN.js";import{f as ze}from"./forwardRefs-DWGaNmQL.js";import{u as Ye}from"./useApi-BFo9Fwth.js";import{c as He}from"./createUrl-BGpqzwGy.js";import{$ as ee}from"./api-DuTb8U9y.js";import{V as Ge}from"./VDialog-BlKjDFXC.js";import{V as te}from"./VCard-BL5sBgqt.js";import{V as ae}from"./VCardText-COsGQpPl.js";import{V as O,a as V}from"./VRow-ldvFrort.js";import"./VLabel-DOETztSO.js";import"./VImg-CVtU7sDy.js";import"./VTextField-CfJHctEe.js";import"./VList-BOfJkaJ5.js";import"./VAvatar-Bum6FSQ0.js";import"./VMenu-BKUDYSqT.js";import"./VSelectionControl-BwXkGpdj.js";import"./VChip-BAVWtWY4.js";/* empty css              */import"./VTable-dHB6tNEb.js";import"./index-9rIf2CJL.js";const Ke={class:"d-flex flex-wrap gap-4 ma-6"},Je={class:"d-flex gap-4 flex-wrap align-center"},Ze={class:"d-flex align-center"},We={__name:"DataTables",props:{page:{type:Number,required:!0},per_page:{type:Number,required:!0},headers:{type:Array,required:!0},items:{type:Array,required:!0},totalItems:{type:Number,required:!0},searchQuery:{type:String,required:!0},btnAdd:{type:Object,required:!0}},emits:["update:searchQuery","update:per_page","update:page","aksi","btnClick","option"],setup(a,{emit:f}){const{t:s}=ne(),n=a,m=f,y=(c,S)=>{m("aksi",{aksi:c,item:S})},p=c=>{m("update:per_page",c)},x=c=>{m("update:page",c)},T=c=>{m("update:searchQuery",c)},A=c=>{m("btnClick",c)},D=c=>{m("option",c)};return(c,S)=>{const $=ie,h=le,b=ue("IconBtn"),_=se;return N(),H("div",null,[w("div",Ke,[w("div",Je,[t($,{"model-value":n.per_page,items:[5,10,20,25,50],"onUpdate:modelValue":p},null,8,["model-value"])]),t(re),w("div",Ze,[t(h,{"model-value":a.searchQuery,"onUpdate:modelValue":T,placeholder:"Search...",style:{"inline-size":"200px"}},null,8,["model-value"]),n.btnAdd&&Object.keys(n.btnAdd).length?(N(),Z(M,{key:0,class:"ms-3",color:a.btnAdd.color,"prepend-icon":a.btnAdd.icon,onClick:S[0]||(S[0]=k=>A(a.btnAdd.action))},{default:o(()=>[P(R(l(s)(a.btnAdd.text)),1)]),_:1},8,["color","prepend-icon"])):ce("",!0)])]),t(Re,{class:"mt-4"}),t(Me,{"model-value":n.page,headers:a.headers,items:a.items,"items-length":a.totalItems,class:"text-no-wrap","onUpdate:options":D},{header:o(({props:{headers:k}})=>[w("thead",null,[w("tr",null,[(N(!0),H(de,null,me(k,u=>(N(),H("th",{class:fe(u.class)},[w("span",null,R(l(s)(u.text)),1)],2))),256))])])]),"item.actions":o(({item:k})=>[t(b,{title:"Edit",onClick:u=>y("edit",k)},{default:o(()=>[t(G,{icon:"tabler-pencil"})]),_:2},1032,["onClick"]),t(b,{title:"Delete",onClick:u=>y("delete",k)},{default:o(()=>[t(G,{icon:"tabler-trash"})]),_:2},1032,["onClick"])]),bottom:o(()=>[P(R(c.counter)+" ",1),t(_,{page:a.page,onChangePage:x,"items-per-page":a.per_page,"total-items":a.totalItems},null,8,["page","items-per-page","total-items"])]),_:1},8,["model-value","headers","items","items-length"])])}}};function Xe(a){const f=K(a());let s=-1;function n(){clearInterval(s)}function m(){n(),$e(()=>f.value=a())}function y(p){const x=p?getComputedStyle(p):{transitionDuration:.2},T=parseFloat(x.transitionDuration)*1e3||200;if(n(),f.value<=0)return;const A=performance.now();s=window.setInterval(()=>{const D=performance.now()-A+T;f.value=Math.max(a()-D,0),f.value<=0&&n()},T)}return qe(n),{clear:n,time:f,start:y,reset:m}}const et=ge({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Ie({location:"bottom"}),...Be(),...De(),...Ae(),...he(),...Pe(je({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),tt=pe()({name:"VSnackbar",props:et(),emits:{"update:modelValue":a=>!0},setup(a,f){let{slots:s}=f;const n=ve(a,"modelValue"),{positionClasses:m}=be(a),{scopeId:y}=Fe(),{themeClasses:p}=ke(a),{colorClasses:x,colorStyles:T,variantClasses:A}=ye(a),{roundedClasses:D}=Ve(a),c=Xe(()=>Number(a.timeout)),S=v(),$=v(),h=K(!1),b=K(0),_=v(),k=_e(xe,void 0);Se(()=>!!k,()=>{const g=Ue();Le(()=>{_.value=g.mainStyles.value})}),F(n,d),F(()=>a.timeout,d),Ce(()=>{n.value&&d()});let u=-1;function d(){c.reset(),window.clearTimeout(u);const g=Number(a.timeout);if(!n.value||g===-1)return;const I=we($.value);c.start(I),u=window.setTimeout(()=>{n.value=!1},g)}function B(){c.reset(),window.clearTimeout(u)}function j(){h.value=!0,B()}function E(){h.value=!1,d()}function U(g){b.value=g.touches[0].clientY}function Q(g){Math.abs(b.value-g.changedTouches[0].clientY)>50&&(n.value=!1)}function z(){h.value&&E()}const Y=J(()=>a.location.split(" ").reduce((g,I)=>(g[`v-snackbar--${I}`]=!0,g),{}));return Te(()=>{const g=X.filterProps(a),I=!!(s.default||s.text||a.text);return t(X,W({ref:S,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":a.multiLine&&!a.vertical,"v-snackbar--timer":!!a.timer,"v-snackbar--vertical":a.vertical},Y.value,m.value,a.class],style:[_.value,a.style]},g,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,contentProps:W({class:["v-snackbar__wrapper",p.value,x.value,D.value,A.value],style:[T.value],onPointerenter:j,onPointerleave:E},g.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:U,onTouchend:Q,onAfterLeave:z},y),{default:()=>{var i,e;return[Ne(!1,"v-snackbar"),a.timer&&!h.value&&t("div",{key:"timer",class:"v-snackbar__timer"},[t(Oe,{ref:$,color:typeof a.timer=="string"?a.timer:"info",max:a.timeout,"model-value":c.time.value},null)]),I&&t("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((i=s.text)==null?void 0:i.call(s))??a.text,(e=s.default)==null?void 0:e.call(s)]),s.actions&&t(Ee,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[t("div",{class:"v-snackbar__actions"},[s.actions({isActive:n})])]})]},activator:s.activator})}),ze({},S)}}),at={class:"text-center"},lt={class:"text-center text-white my-3"},nt=["innerHTML"],ot={class:"text-center"},st={__name:"ShowAlert",props:{icon:{type:String,required:!0},title:{type:String,required:!0},text:{type:String,required:!0},color:{type:String,required:!0},isSnackbarVisible:{type:Boolean,required:!0},isSnackbarClicked:{type:Boolean,required:!0},disableTimeOut:{type:Boolean,default:!0}},emits:["update:isSnackbarVisible","update:isSnackbarClicked"],setup(a,{emit:f}){const s=a,n=f,m=()=>{n("update:isSnackbarVisible",!1),n("update:isSnackbarClicked",!0)};return F(s,()=>{s.isSnackbarVisible&&s.disableTimeOut&&setTimeout(function(){n("update:isSnackbarVisible",!1)},4e3)}),(y,p)=>(N(),Z(tt,{location:"center",color:s.color,"multi-line":"",modelValue:s.isSnackbarVisible,"onUpdate:modelValue":p[0]||(p[0]=x=>s.isSnackbarVisible=x)},{default:o(()=>[w("div",at,[t(G,{size:"50",icon:s.icon},null,8,["icon"])]),w("h1",lt,R(s.title),1),w("p",{class:"text-center",innerHTML:s.text},null,8,nt),w("div",ot,[t(M,{color:s.color,onClick:m,autofocus:""},{default:o(()=>p[1]||(p[1]=[P("OK")])),_:1},8,["color"])])]),_:1},8,["color","modelValue"]))}},Ut={__name:"languages",async setup(a){let f,s;const{t:n}=ne(),m=v(""),y=v(10),p=v(1),x=v("lang_id"),T=v("ASC"),A=i=>{var e,C;i.sortBy.length&&(x.value=(e=i.sortBy[0])==null?void 0:e.key,T.value=(C=i.sortBy[0])==null?void 0:C.order)},D=[{title:"ID",key:"lang_id"},{title:"Portuguese",key:"pt"},{title:"English",key:"en",sortable:!1},{title:"Tetun",key:"te",sortable:!1},{title:"Indonesia",key:"id",sortable:!1},{title:"Actions",key:"actions",align:"center",sortable:!1}],{data:c,execute:S}=([f,s]=Qe(()=>Ye(He("/settings/languages",{query:{q:m,page:p,per_page:y,sortBy:x,orderBy:T}}))),f=await f,s(),f),$=J(()=>c.value.data.data),h=J(()=>c.value.data.total),b=v(!1),_=v(!1),k=v(!1),u=v({lang_id:null,pt:null,en:null,te:null,id:null}),d=v({icon:void 0,title:void 0,text:void 0,color:void 0}),B=v({pt:void 0,en:void 0,te:void 0,id:void 0}),j=()=>{u.value={lang_id:null,pt:null,en:null,te:null,id:null},d.value={icon:null,title:null,text:null,color:null}},E=async()=>{await ee("/settings/languages",{method:"POST",body:u.value,onResponse({request:i,response:e,options:C}){let L=e._data;console.log(e),L.errors?B.value=L.errors:(d.value=L.data,b.value=!1,_.value=!0)}})},U=v(!1),Q=v(),z=async i=>{i&&await ee(`/settings/destroy/languages/${Q.value}`,{method:"DELETE",onResponse({request:e,response:C,options:L}){let r=C._data;d.value=r,S()}})},Y=async i=>{Q.value=i,U.value=!0},g=async i=>{console.log(i),i.aksi=="edit"&&(u.value={lang_id:i.item.lang_id,pt:i.item.pt,en:i.item.en,te:i.item.te,id:i.item.id},b.value=!0),i.aksi=="delete"&&Y(i.item.lang_id)},I=async i=>{console.log(i),b.value=!0};return F([b,_,k,u.value],()=>{!_.value&&b.value&&!u.value.lang_id&&j(),k.value&&S()}),(i,e)=>{const C=le,L=oe;return N(),Z(te,{title:l(n)("Languages"),class:"mb-6"},{default:o(()=>[t(We,{per_page:l(y),headers:D,items:l($),totalItems:l(h),page:l(p),btnAdd:{text:"Add New",icon:"tabler-plus",color:"primary",action:"add-lang"},onAksi:g,onBtnClick:I,"onUpdate:per_page":e[0]||(e[0]=r=>q(y)?y.value=r:null),"onUpdate:page":e[1]||(e[1]=r=>q(p)?p.value=r:null),searchQuery:l(m),"onUpdate:searchQuery":e[2]||(e[2]=r=>q(m)?m.value=r:null),onOption:A},null,8,["per_page","items","totalItems","page","searchQuery"]),t(Ge,{modelValue:l(b),"onUpdate:modelValue":e[9]||(e[9]=r=>q(b)?b.value=r:null),"max-width":"800"},{default:o(()=>[t(te,{title:l(u).lang_id?l(n)("Edit Language"):l(n)("Add New Language")},{default:o(()=>[t(ae,null,{default:o(()=>[t(O,null,{default:o(()=>[t(V,{cols:"12"},{default:o(()=>[t(O,{"no-gutters":""},{default:o(()=>[t(V,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>e[13]||(e[13]=[P("Portuguese")])),_:1}),t(V,{cols:"12",md:"9"},{default:o(()=>[t(C,{modelValue:l(u).pt,"onUpdate:modelValue":e[3]||(e[3]=r=>l(u).pt=r),"error-messages":l(B).pt,placeholder:"Portuguese (default language)"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),t(V,{cols:"12"},{default:o(()=>[t(O,{"no-gutters":""},{default:o(()=>[t(V,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>e[14]||(e[14]=[P("English")])),_:1}),t(V,{cols:"12",md:"9"},{default:o(()=>[t(C,{modelValue:l(u).en,"onUpdate:modelValue":e[4]||(e[4]=r=>l(u).en=r),"error-messages":l(B).en,placeholder:"English"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),t(V,{cols:"12"},{default:o(()=>[t(O,{"no-gutters":""},{default:o(()=>[t(V,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>e[15]||(e[15]=[P("Tetun")])),_:1}),t(V,{cols:"12",md:"9"},{default:o(()=>[t(C,{modelValue:l(u).te,"onUpdate:modelValue":e[5]||(e[5]=r=>l(u).te=r),"error-messages":l(B).te,placeholder:"Tetun"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),t(V,{cols:"12"},{default:o(()=>[t(O,{"no-gutters":""},{default:o(()=>[t(V,{cols:"12",md:"3",class:"d-flex align-items-center"},{default:o(()=>e[16]||(e[16]=[P("Indonesia")])),_:1}),t(V,{cols:"12",md:"9"},{default:o(()=>[t(C,{modelValue:l(u).id,"onUpdate:modelValue":e[6]||(e[6]=r=>l(u).id=r),"error-messages":l(B).id,placeholder:"Indonesia"},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(ae,{class:"d-flex justify-end flex-wrap gap-3"},{default:o(()=>[t(M,{variant:"tonal",color:"secondary",onClick:e[7]||(e[7]=r=>b.value=!1)},{default:o(()=>e[17]||(e[17]=[P("Batal")])),_:1}),t(M,{onClick:e[8]||(e[8]=r=>E())},{default:o(()=>e[18]||(e[18]=[P("Simpan")])),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"]),t(st,{color:l(d).color,icon:l(d).icon,title:l(d).title,text:l(d).text,"disable-time-out":!1,isSnackbarVisible:l(_),"onUpdate:isSnackbarVisible":e[10]||(e[10]=r=>q(_)?_.value=r:null),isSnackbarClicked:l(k),"onUpdate:isSnackbarClicked":e[11]||(e[11]=r=>q(k)?k.value=r:null)},null,8,["color","icon","title","text","isSnackbarVisible","isSnackbarClicked"]),t(L,{isDialogVisible:l(U),"onUpdate:isDialogVisible":e[12]||(e[12]=r=>q(U)?U.value=r:null),"confirmation-question":l(n)("Are you sure?"),"cancel-msg":l(n)("Cancel Delete"),"cancel-title":l(n)("Cancel"),"confirm-msg":l(d).text?l(n)(l(d).text):"","confirm-title":l(d).title?l(n)(l(d).title):"","confirm-icon":l(d).icon??"","confirm-color":l(d).color??"",onConfirm:z},null,8,["isDialogVisible","confirmation-question","cancel-msg","cancel-title","confirm-msg","confirm-title","confirm-icon","confirm-color"])]),_:1},8,["title"])}}};export{Ut as default};
